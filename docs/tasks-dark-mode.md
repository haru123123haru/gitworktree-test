# ダークモード機能 タスクリスト

**ブランチ名:** `feature/dark-mode`
**worktree:** `main-darkmode`
**優先度:** 中

---

## 概要

ライトモード/ダークモードの切り替え機能を実装し、ユーザーの好みに応じた表示を提供する。

---

## タスク一覧

### 1. デザイン設計

- [ ] ライトモードのカラーパレット確定
  - 背景: #ffffff
  - テキスト: #333333
  - プライマリ: #3498db
  - セカンダリ: #95a5a6
- [ ] ダークモードのカラーパレット確定
  - 背景: #1a1a1a
  - テキスト: #e0e0e0
  - プライマリ: #5dade2
  - セカンダリ: #7f8c8d

### 2. CSS実装

#### 2.1 CSS変数の定義
- [ ] `:root` にライトモードの変数定義
- [ ] `[data-theme="dark"]` にダークモードの変数定義
- [ ] 既存CSSを変数ベースに書き換え

#### 2.2 テーマ対応スタイル
- [ ] 背景色の変数化
- [ ] テキスト色の変数化
- [ ] ボーダー色の変数化
- [ ] ボタン色の変数化
- [ ] モーダルの配色調整
- [ ] フォーム要素の配色調整

### 3. フロントエンド実装

#### 3.1 トグルスイッチUI
- [ ] ヘッダーにテーマ切り替えボタン追加
- [ ] トグルスイッチのスタイリング
- [ ] 現在のテーマに応じたアイコン表示（太陽/月）

#### 3.2 テーマ切り替えロジック
- [ ] テーマ切り替え関数の実装
- [ ] `document.documentElement.dataset.theme` の操作
- [ ] トグル時のアニメーション（オプション）

#### 3.3 設定の永続化
- [ ] LocalStorageへのテーマ保存
- [ ] ページ読み込み時のテーマ復元
- [ ] システム設定の検出（prefers-color-scheme）

### 4. テスト・検証

- [ ] ライトモード表示の確認
- [ ] ダークモード表示の確認
- [ ] 切り替えの動作確認
- [ ] ページリロード後の設定維持確認
- [ ] 全ての要素が正しく表示されるか確認
  - [ ] タスク一覧
  - [ ] フォーム
  - [ ] モーダル
  - [ ] ボタン

### 5. アクセシビリティ

- [ ] コントラスト比のチェック（WCAG AA準拠）
- [ ] フォーカス状態の視認性確認

---

## CSS変数サンプル

```css
:root {
  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f5;
  --text-primary: #333333;
  --text-secondary: #666666;
  --border-color: #dddddd;
}

[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --text-primary: #e0e0e0;
  --text-secondary: #a0a0a0;
  --border-color: #404040;
}
```

---

## 完了条件

- [ ] トグルスイッチでテーマ切り替えができる
- [ ] ダークモードで全要素が正しく表示される
- [ ] 設定がページリロード後も維持される
- [ ] コントラスト比が適切である
